ANIMAL_RU = {
    "Wolf": {"male": "Ð’Ð¾Ð»Ðº", "female": "Ð’Ð¾Ð»Ñ‡Ð¸Ñ†Ð°"},
    "Lion": {"male": "Ð›ÐµÐ²", "female": "Ð›ÑŒÐ²Ð¸Ñ†Ð°"},
    "Tiger": {"male": "Ð¢Ð¸Ð³Ñ€", "female": "Ð¢Ð¸Ð³Ñ€Ð¸Ñ†Ð°"},
    "Lynx": {"male": "Ð Ñ‹ÑÑŒ", "female": "Ð Ñ‹ÑÑŒ"},
    "Panther": {"male": "ÐŸÐ°Ð½Ñ‚ÐµÑ€Ð°", "female": "ÐŸÐ°Ð½Ñ‚ÐµÑ€Ð°"},
    "Bear": {"male": "ÐœÐµÐ´Ð²ÐµÐ´ÑŒ", "female": "ÐœÐµÐ´Ð²ÐµÐ´Ð¸Ñ†Ð°"},
    "Fox": {"male": "ÐšÐ¾Ð¹Ð¾Ñ‚", "female": "Ð›Ð¸ÑÐ°"},
    "Wolverine": {"male": "Ð Ð¾ÑÐ¾Ð¼Ð°Ñ…Ð°", "female": "Ð Ð¾ÑÐ¾Ð¼Ð°Ñ…Ð°"},
    "Deer": {"male": "ÐžÐ»ÐµÐ½ÑŒ", "female": "Ð›Ð°Ð½ÑŒ"},
    "Monkey": {"male": "ÐžÐ±ÐµÐ·ÑŒÑÐ½Ð°", "female": "ÐžÐ±ÐµÐ·ÑŒÑÐ½Ð°"},
    "Rabbit": {"male": "ÐšÑ€Ð¾Ð»Ð¸Ðº", "female": "ÐšÑ€Ð¾Ð»Ð¸Ðº"},
    "Buffalo": {"male": "Ð‘ÑƒÐ¹Ð²Ð¾Ð»", "female": "Ð‘ÑƒÐ¹Ð²Ð¾Ð»Ð¸Ñ†Ð°"},
    "Ram": {"male": "Ð‘Ð°Ñ€Ð°Ð½", "female": "Ð˜Ð±ÐµÐºÑÐ°"},
    "Capybara": {"male": "ÐšÐ°Ð¿Ð¸Ð±Ð°Ñ€Ð°", "female": "ÐšÐ°Ð¿Ð¸Ð±Ð°Ñ€Ð°"},
    "Elephant": {"male": "Ð¡Ð»Ð¾Ð½", "female": "Ð¡Ð»Ð¾Ð½Ð¸Ñ…Ð°"},
    "Horse": {"male": "ÐšÐ¾Ð½ÑŒ", "female": "Ð›Ð¾ÑˆÐ°Ð´ÑŒ"},
    "Eagle": {"male": "ÐžÑ€Ñ‘Ð»", "female": "ÐžÑ€Ð»Ð¸Ñ†Ð°"},
    "Owl": {"male": "Ð¤Ð¸Ð»Ð¸Ð½", "female": "Ð¡Ð¾Ð²Ð°"},
    "Raven": {"male": "Ð’Ð¾Ñ€Ð¾Ð½", "female": "Ð’Ð¾Ñ€Ð¾Ð½Ð°"},
    "Parrot": {"male": "ÐŸÐ¾Ð¿ÑƒÐ³Ð°Ð¹", "female": "ÐŸÐ¾Ð¿ÑƒÐ³Ð°Ð¸Ñ…Ð°"},
    "Snake": {"male": "Ð—Ð¼ÐµÐ¹", "female": "Ð—Ð¼ÐµÑ"},
    "Crocodile": {"male": "ÐšÑ€Ð¾ÐºÐ¾Ð´Ð¸Ð»", "female": "ÐšÑ€Ð¾ÐºÐ¾Ð´Ð¸Ð»"},
    "Turtle": {"male": "Ð§ÐµÑ€ÐµÐ¿Ð°Ñ…Ð°", "female": "Ð§ÐµÑ€ÐµÐ¿Ð°Ñ…Ð°"},
    "Lizard": {"male": "Ð¯Ñ‰ÐµÑ€Ð¸Ñ†Ð°", "female": "Ð¯Ñ‰ÐµÑ€Ð¸Ñ†Ð°"},
}

ANIMAL_EMOJI = {
    "Wolf": "ðŸº",
    "Lion": "ðŸ¦",
    "Tiger": "ðŸ¯",
    "Lynx": "ðŸ±",
    "Panther": "ðŸ†",
    "Bear": "ðŸ»",
    "Fox": "ðŸ¦Š",
    "Wolverine": "ðŸ¦¡",
    "Deer": "ðŸ¦Œ",
    "Monkey": "ðŸµ",
    "Rabbit": "ðŸ°",
    "Buffalo": "ðŸƒ",
    "Ram": "ðŸ",
    "Capybara": "ðŸ¹",
    "Elephant": "ðŸ˜",
    "Horse": "ðŸ´",
    "Eagle": "ðŸ¦…",
    "Owl": "ðŸ¦‰",
    "Raven": "ðŸ¦",
    "Parrot": "ðŸ¦œ",
    "Snake": "ðŸ",
    "Crocodile": "ðŸŠ",
    "Turtle": "ðŸ¢",
    "Lizard": "ðŸ¦Ž",
}


def get_animal_ru_name(animal_code: str, gender: str) -> str:
    g = "female" if gender == "female" else "male"
    return ANIMAL_RU[animal_code][g]


ANIMAL_DISPLAY = {
    "en": {
        "Wolf": "Wolf",
        "Lion": "Lion",
        "Tiger": "Tiger",
        "Lynx": "Lynx",
        "Panther": "Panther",
        "Bear": "Bear",
        "Fox": "Fox",
        "Wolverine": "Wolverine",
        "Deer": "Deer",
        "Monkey": "Monkey",
        "Rabbit": "Rabbit",
        "Buffalo": "Buffalo",
        "Ram": "Ram",
        "Capybara": "Capybara",
        "Elephant": "Elephant",
        "Horse": "Horse",
        "Eagle": "Eagle",
        "Owl": "Owl",
        "Raven": "Raven",
        "Parrot": "Parrot",
        "Snake": "Snake",
        "Crocodile": "Crocodile",
        "Turtle": "Turtle",
        "Lizard": "Lizard",
    },
    "es": {
        "Wolf": "Lobo",
        "Lion": "LeÃ³n",
        "Tiger": "Tigre",
        "Lynx": "Lince",
        "Panther": "Pantera",
        "Bear": "Oso",
        "Fox": "Zorro",
        "Wolverine": "GlotÃ³n",
        "Deer": "Ciervo",
        "Monkey": "Mono",
        "Rabbit": "Conejo",
        "Buffalo": "BÃºfalo",
        "Ram": "Carnero",
        "Capybara": "Capibara",
        "Elephant": "Elefante",
        "Horse": "Caballo",
        "Eagle": "Ãguila",
        "Owl": "BÃºho",
        "Raven": "Cuervo",
        "Parrot": "Loro",
        "Snake": "Serpiente",
        "Crocodile": "Cocodrilo",
        "Turtle": "Tortuga",
        "Lizard": "Lagarto",
    },
    "pt": {
        "Wolf": "Lobo",
        "Lion": "LeÃ£o",
        "Tiger": "Tigre",
        "Lynx": "Lince",
        "Panther": "Pantera",
        "Bear": "Urso",
        "Fox": "Raposa",
        "Wolverine": "Carcaju",
        "Deer": "Cervo",
        "Monkey": "Macaco",
        "Rabbit": "Coelho",
        "Buffalo": "BÃºfalo",
        "Ram": "Carneiro",
        "Capybara": "Capivara",
        "Elephant": "Elefante",
        "Horse": "Cavalo",
        "Eagle": "Ãguia",
        "Owl": "Coruja",
        "Raven": "Corvo",
        "Parrot": "Papagaio",
        "Snake": "Serpente",
        "Crocodile": "Crocodilo",
        "Turtle": "Tartaruga",
        "Lizard": "Lagarto",
    },
}


def get_animal_display_name(animal_code: str, lang: str, gender: str) -> str:
    if lang == "ru":
        return get_animal_ru_name(animal_code, gender)
    if lang not in ANIMAL_DISPLAY:
        return get_animal_ru_name(animal_code, gender)
    return ANIMAL_DISPLAY[lang].get(animal_code, animal_code)


def animal_emoji(animal_code: str) -> str:
    return ANIMAL_EMOJI.get(animal_code, "ðŸ¦Š")


ELEMENT_NUMBER = {
    "Ð’Ð¾Ð·Ð´ÑƒÑ…": 1,
    "Ð’Ð¾Ð´Ð°": 2,
    "ÐžÐ³Ð¾Ð½ÑŒ": 3,
    "Ð—ÐµÐ¼Ð»Ñ": 4,
}

ELEMENT_LABELS = {
    "ru": {
        "Ð’Ð¾Ð·Ð´ÑƒÑ…": "Ð’Ð¾Ð·Ð´ÑƒÑ…Ð°",
        "Ð’Ð¾Ð´Ð°": "Ð’Ð¾Ð´Ñ‹",
        "ÐžÐ³Ð¾Ð½ÑŒ": "ÐžÐ³Ð½Ñ",
        "Ð—ÐµÐ¼Ð»Ñ": "Ð—ÐµÐ¼Ð»Ð¸",
    },
    "en": {
        "Ð’Ð¾Ð·Ð´ÑƒÑ…": "Air",
        "Ð’Ð¾Ð´Ð°": "Water",
        "ÐžÐ³Ð¾Ð½ÑŒ": "Fire",
        "Ð—ÐµÐ¼Ð»Ñ": "Earth",
    },
    "es": {
        "Ð’Ð¾Ð·Ð´ÑƒÑ…": "Aire",
        "Ð’Ð¾Ð´Ð°": "Agua",
        "ÐžÐ³Ð¾Ð½ÑŒ": "Fuego",
        "Ð—ÐµÐ¼Ð»Ñ": "Tierra",
    },
    "pt": {
        "Ð’Ð¾Ð·Ð´ÑƒÑ…": "Ar",
        "Ð’Ð¾Ð´Ð°": "Ãgua",
        "ÐžÐ³Ð¾Ð½ÑŒ": "Fogo",
        "Ð—ÐµÐ¼Ð»Ñ": "Terra",
    },
}


def get_element_display_name(
    element_code: str, lang: str, ru_case: str | None = None
) -> str:
    if lang == "ru":
        if ru_case == "genitive_for_archetype_line":
            return ELEMENT_LABELS["ru"].get(element_code, element_code)
        return element_code
    labels = ELEMENT_LABELS.get(lang, ELEMENT_LABELS["ru"])
    return labels.get(element_code, element_code)


FEMALE_SUFFIX_ANIMALS = {"Deer", "Fox", "Lion", "Ram"}


def build_image_key(animal_code: str, element: str, gender: str) -> str:
    element_number = ELEMENT_NUMBER.get(element)
    if not element_number:
        raise ValueError(f"Unsupported element for image key: {element}")
    suffix = "_f" if gender == "female" and animal_code in FEMALE_SUFFIX_ANIMALS else ""
    return f"{animal_code}{element_number}{suffix}"
